# Built-in network policies for bw-claude/bw-gemini
# These are embedded in the binary and provide safe defaults
# User config can override or extend these policies

[network]

# === Host Groups ===

[network.groups.anthropic]
description = "Anthropic Claude API and analytics"
hosts = [
    "api.anthropic.com",
    "statsig.anthropic.com",
]

[network.groups.gemini_apis]
description = "Google Gemini API services"
hosts = [
    "oauth2.googleapis.com",
    "cloudcode-pa.googleapis.com",
]

[network.groups.localhost]
description = "Local development servers"
hosts = ["localhost"]
ipv4_ranges = ["127.0.0.0/8"]
ipv6_ranges = ["::1/128"]

[network.groups.rust]
description = "Rust programming language resources"
hosts = [
    "crates.io",
    "*.crates.io",
    "docs.rs",
    "*.docs.rs",
]

[network.groups.github]
description = "Github"
hosts = [
    "github.com",
    "*.github.com",
]

# === Policies ===

[network.policies.lockdown]
description = "Complete network isolation"
network = "disabled"

[network.policies.open]
description = "Full network access without proxy"
network = "open"


[network.policies.allow]
description = "Allow all network access through proxy"
network = "proxy"
default = "allow"

[network.policies.deny]
description = "Block all network access (useful for learning mode)"
network = "proxy"
default = "deny"

# Application-specific policies

[network.policies.claude]
description = "Allow Anthropic Claude API and analytics"
network = "proxy"
default = "deny"
allow_groups = ["anthropic"]

[network.policies.gemini]
description = "Allow Google Gemini API"
network = "proxy"
default = "deny"
allow_groups = ["gemini_apis"]

[network.policies.shell]
description = "General shell use"
network = "proxy"
default = "deny"
allow_groups = ["rust", "github"]
