# Built-in network policies for bw-claude/bw-gemini
# These are embedded in the binary and provide safe defaults
# User config can override or extend these policies

[network]

# === Host Groups ===

[network.groups.anthropic]
description = "Anthropic Claude API and analytics"
hosts = [
    "api.anthropic.com",
    "statsig.anthropic.com",
]

[network.groups.gemini_apis]
description = "Google Gemini API services"
hosts = [
    "oauth2.googleapis.com",
    "cloudcode-pa.googleapis.com",
]

[network.groups.localhost]
description = "Local development servers"
hosts = ["localhost"]
ipv4_ranges = ["127.0.0.0/8"]
ipv6_ranges = ["::1/128"]

# === Policies ===

[network.policies.claude]
description = "Default policy for Claude - allows Anthropic API and analytics"
allow_groups = ["anthropic"]
mode = "allow"

[network.policies.gemini]
description = "Default policy for Gemini - allows Google Gemini API"
allow_groups = ["gemini_apis"]
mode = "allow"

[network.policies.lockdown]
description = "Complete network isolation - only localhost allowed"
allow_groups = ["localhost"]
mode = "allow"

[network.policies.open]
description = "Marker policy for full network access (no filtering)"
allow_all = true

[network.policies.block]
description = "Block all network access - useful for learning mode to record everything"
allow_groups = []
mode = "allow"
